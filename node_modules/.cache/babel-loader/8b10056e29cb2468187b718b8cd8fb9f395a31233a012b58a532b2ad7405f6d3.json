{"ast":null,"code":"var _jsxFileName = \"E:\\\\mist\\\\src\\\\pages\\\\studentdashboard.js\",\n  _s = $RefreshSig$();\n// pages/studentdashboard.jsx or .js\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction StudentDashboard({\n  user\n}) {\n  _s();\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [requestStatus, setRequestStatus] = useState(\"\");\n  useEffect(() => {\n    var _user$email;\n    const STUDENT_NAME = (user === null || user === void 0 ? void 0 : user.displayName) || (user === null || user === void 0 ? void 0 : (_user$email = user.email) === null || _user$email === void 0 ? void 0 : _user$email.split(\"@\")[0]) || \"Student One\";\n    axios.get(\"http://localhost:5000/student/dashboard\", {\n      params: {\n        student: STUDENT_NAME\n      }\n    }).then(res => {\n      console.log(\"✅ dashboard data:\", res.data);\n      setData(res.data);\n      setLoading(false);\n    }).catch(err => {\n      console.error(\"❌ dashboard error:\", err.message);\n      setLoading(false);\n    });\n    const interval = setInterval(() => {\n      axios.get(`http://localhost:5000/student/request-status/${encodeURIComponent(STUDENT_NAME)}`).then(res => {\n        var _res$data;\n        if ((_res$data = res.data) !== null && _res$data !== void 0 && _res$data.status) {\n          setRequestStatus(res.data.status);\n        }\n      }).catch(err => {\n        console.error(\"status error:\", err.message);\n      });\n    }, 3000);\n    return () => clearInterval(interval);\n  }, [user]);\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading student dashboard...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginBottom: \"30px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Student Dashboard\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Request status: \", requestStatus || \"No request yet\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n      children: JSON.stringify(data, null, 2)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(StudentDashboard, \"xXVN49F7tVAgtMrj7iQ+coGEzpY=\");\n_c = StudentDashboard;\nexport default StudentDashboard;\nvar _c;\n$RefreshReg$(_c, \"StudentDashboard\");","map":{"version":3,"names":["React","useState","useEffect","axios","jsxDEV","_jsxDEV","StudentDashboard","user","_s","data","setData","loading","setLoading","requestStatus","setRequestStatus","_user$email","STUDENT_NAME","displayName","email","split","get","params","student","then","res","console","log","catch","err","error","message","interval","setInterval","encodeURIComponent","_res$data","status","clearInterval","children","fileName","_jsxFileName","lineNumber","columnNumber","style","marginBottom","JSON","stringify","_c","$RefreshReg$"],"sources":["E:/mist/src/pages/studentdashboard.js"],"sourcesContent":["// pages/studentdashboard.jsx or .js\r\nimport React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nfunction StudentDashboard({ user }) {\r\n  const [data, setData] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [requestStatus, setRequestStatus] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const STUDENT_NAME =\r\n      user?.displayName || user?.email?.split(\"@\")[0] || \"Student One\";\r\n\r\n    axios\r\n      .get(\"http://localhost:5000/student/dashboard\", {\r\n        params: { student: STUDENT_NAME },\r\n      })\r\n      .then((res) => {\r\n        console.log(\"✅ dashboard data:\", res.data);\r\n        setData(res.data);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"❌ dashboard error:\", err.message);\r\n        setLoading(false);\r\n      });\r\n\r\n    const interval = setInterval(() => {\r\n      axios\r\n        .get(\r\n          `http://localhost:5000/student/request-status/${encodeURIComponent(\r\n            STUDENT_NAME\r\n          )}`\r\n        )\r\n        .then((res) => {\r\n          if (res.data?.status) {\r\n            setRequestStatus(res.data.status);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.error(\"status error:\", err.message);\r\n        });\r\n    }, 3000);\r\n\r\n    return () => clearInterval(interval);\r\n  }, [user]);\r\n\r\n  if (loading) {\r\n    return <div>Loading student dashboard...</div>;\r\n  }\r\n\r\n  return (\r\n    <div style={{ marginBottom: \"30px\" }}>\r\n      <h3>Student Dashboard</h3>\r\n      <p>Request status: {requestStatus || \"No request yet\"}</p>\r\n      <pre>{JSON.stringify(data, null, 2)}</pre>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default StudentDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}